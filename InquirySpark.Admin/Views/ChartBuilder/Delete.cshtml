@model InquirySpark.Repository.Models.Charting.ChartDefinitionDto
@{
    ViewData["Title"] = "Delete Chart Definition";
}

<div class="card border-0 shadow-sm border-danger">
    <div class="card-header bg-danger text-white">
        <h2 class="mb-0"><i class="bi bi-exclamation-triangle"></i> Delete Chart Definition</h2>
    </div>
    <div class="card-body">
        <div class="alert alert-danger" role="alert">
            <i class="bi bi-exclamation-triangle-fill"></i>
            <strong>Warning:</strong> Are you sure you want to delete this chart definition? 
            This will perform a soft delete (archive) and the chart will no longer appear in active lists.
        </div>

        <dl class="row">
            <dt class="col-sm-3"><i class="bi bi-hash"></i> Chart ID</dt>
            <dd class="col-sm-9">@Model.ChartDefinitionId</dd>

            <dt class="col-sm-3"><i class="bi bi-file-text"></i> Name</dt>
            <dd class="col-sm-9"><strong>@Model.Name</strong></dd>

            <dt class="col-sm-3"><i class="bi bi-database"></i> Dataset ID</dt>
            <dd class="col-sm-9">@Model.DatasetId</dd>

            <dt class="col-sm-3"><i class="bi bi-text-paragraph"></i> Description</dt>
            <dd class="col-sm-9">@(Model.Description ?? "No description")</dd>

            <dt class="col-sm-3"><i class="bi bi-arrow-repeat"></i> Current Version</dt>
            <dd class="col-sm-9"><span class="badge bg-info">v@Model.VersionNumber</span></dd>

            <dt class="col-sm-3"><i class="bi bi-calendar"></i> Created</dt>
            <dd class="col-sm-9">@Model.CreatedDt.ToString("yyyy-MM-dd HH:mm:ss")</dd>

            <dt class="col-sm-3"><i class="bi bi-calendar-check"></i> Last Modified</dt>
            <dd class="col-sm-9">@Model.ModifiedDt.ToString("yyyy-MM-dd HH:mm:ss")</dd>
        </dl>

        <div class="alert alert-info" role="alert">
            <i class="bi bi-info-circle"></i>
            <strong>Note:</strong> Version history will be preserved even after deletion. 
            This operation sets the archived flag but does not remove data from the database.
        </div>

        <form asp-action="Delete" method="post" class="mt-4">
            <input type="hidden" asp-for="ChartDefinitionId" />
            <div class="d-flex justify-content-between">
                <a asp-action="Details" asp-route-id="@Model.ChartDefinitionId" class="btn btn-secondary">
                    <i class="bi bi-arrow-left"></i> Cancel
                </a>
                <button type="submit" class="btn btn-danger" onclick="return confirm('Are you absolutely sure you want to delete this chart definition?');">
                    <i class="bi bi-trash"></i> Confirm Delete
                </button>
            </div>
        </form>
    </div>
</div>
