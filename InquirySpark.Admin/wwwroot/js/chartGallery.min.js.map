{"version":3,"file":"js/chartGallery.min.js","mappings":"mBAcO,MAAMA,EAGT,WAAAC,CAAoBC,GAAA,KAAAA,aAAAA,EAFZ,KAAAC,UAAiB,KAGrBC,KAAKC,qBACT,CAKQ,mBAAAA,GACCD,KAAKF,eAGVE,KAAKD,UAAYG,EAAEF,KAAKF,cAAcK,UAAU,CAC5CC,YAAY,EACZC,WAAY,GACZC,MAAO,CAAC,CAAC,EAAG,SACZC,WAAY,CACR,CAAEC,QAAS,UAAWC,WAAW,GACjC,CAAED,QAAS,CAAC,GAAIE,KAAM,SAE1BC,SAAU,CACNC,OAAQ,UACRC,kBAAmB,mBACnBC,WAAY,8BACZC,KAAM,6CACNC,UAAW,sBACXC,aAAc,sCAElBC,IAAK,mIAGLC,WAAW,EACXC,cAAe,QAGnBpB,KAAKqB,sBACT,CAKQ,mBAAAA,GAEJ,MAAMC,EAAYC,SAASC,eAAe,aACtCF,GAAatB,KAAKD,WAClBuB,EAAUG,iBAAiB,SAAU,KACjC,MAAMC,EAAMJ,EAAUK,MAClBD,EACA1B,KAAKD,UAAU6B,OAAO,GAAGhB,OAAOc,GAAKG,OAErC7B,KAAKD,UAAU6B,OAAO,GAAGhB,OAAO,IAAIiB,SAMhD,MAAMC,EAAeP,SAASC,eAAe,gBACzCM,GAAgB9B,KAAKD,WACrB+B,EAAaL,iBAAiB,SAAU,KACpC,MAAMM,EAASD,EAAaH,MACxBI,EACA/B,KAAKD,UAAU6B,OAAO,GAAGhB,OAAOmB,GAAQF,OAExC7B,KAAKD,UAAU6B,OAAO,GAAGhB,OAAO,IAAIiB,QAIpD,CAKO,MAAAG,GACChC,KAAKD,WACLC,KAAKD,UAAUkC,KAAKD,QAE5B,CAKO,YAAAE,GACClC,KAAKD,WACLC,KAAKD,UAAUa,OAAO,IAAIuB,UAAUvB,OAAO,IAAIiB,MAEvD,CAKO,UAAAO,CAAWC,GAEdC,QAAQC,IAAI,qBAAqBF,IACrC,EAIJd,SAASE,iBAAiB,mBAAoB,KAC1C,MAAMe,EAAQjB,SAASkB,cAAc,0BACrC,GAAID,EAAO,CACP,MAAME,EAAU,IAAI9C,EAAoB4C,GACvCG,OAAeC,oBAAsBF,CAC1C,G","sources":["webpack://inquiryspark-admin/./src/js/chartGallery.ts"],"sourcesContent":["// Chart Gallery TypeScript Module\r\n// Manages DataTables integration and chart asset browsing\r\n\r\nexport interface ChartAsset {\r\n    chartAssetId: number;\r\n    chartDefinitionId: number;\r\n    displayName: string;\r\n    description?: string;\r\n    tags?: string;\r\n    generationDt: string;\r\n    approvalStatus: string;\r\n    cdnBaseUrl?: string;\r\n}\r\n\r\nexport class ChartGalleryManager {\r\n    private dataTable: any = null;\r\n\r\n    constructor(private tableElement: HTMLTableElement) {\r\n        this.initializeDataTable();\r\n    }\r\n\r\n    /**\r\n     * Initialize DataTables with custom configuration\r\n     */\r\n    private initializeDataTable(): void {\r\n        if (!this.tableElement) return;\r\n\r\n        // @ts-ignore - DataTables loaded globally via jQuery\r\n        this.dataTable = $(this.tableElement).DataTable({\r\n            responsive: true,\r\n            pageLength: 25,\r\n            order: [[3, 'desc']], // Sort by generation date descending\r\n            columnDefs: [\r\n                { targets: 'no-sort', orderable: false },\r\n                { targets: [3], type: 'date' }\r\n            ],\r\n            language: {\r\n                search: '_INPUT_',\r\n                searchPlaceholder: 'Search charts...',\r\n                lengthMenu: 'Show _MENU_ charts per page',\r\n                info: 'Showing _START_ to _END_ of _TOTAL_ charts',\r\n                infoEmpty: 'No charts available',\r\n                infoFiltered: '(filtered from _MAX_ total charts)'\r\n            },\r\n            dom: '<\"row\"<\"col-sm-12 col-md-6\"l><\"col-sm-12 col-md-6\"f>>' +\r\n                 '<\"row\"<\"col-sm-12\"tr>>' +\r\n                 '<\"row\"<\"col-sm-12 col-md-5\"i><\"col-sm-12 col-md-7\"p>>',\r\n            stateSave: true,\r\n            stateDuration: 60 * 60 * 24 // 24 hours\r\n        });\r\n\r\n        this.attachCustomFilters();\r\n    }\r\n\r\n    /**\r\n     * Attach custom filter controls\r\n     */\r\n    private attachCustomFilters(): void {\r\n        // Tag filter\r\n        const tagFilter = document.getElementById('tagFilter') as HTMLSelectElement;\r\n        if (tagFilter && this.dataTable) {\r\n            tagFilter.addEventListener('change', () => {\r\n                const tag = tagFilter.value;\r\n                if (tag) {\r\n                    this.dataTable.column(2).search(tag).draw(); // Assuming tags are in column 2\r\n                } else {\r\n                    this.dataTable.column(2).search('').draw();\r\n                }\r\n            });\r\n        }\r\n\r\n        // Status filter\r\n        const statusFilter = document.getElementById('statusFilter') as HTMLSelectElement;\r\n        if (statusFilter && this.dataTable) {\r\n            statusFilter.addEventListener('change', () => {\r\n                const status = statusFilter.value;\r\n                if (status) {\r\n                    this.dataTable.column(5).search(status).draw(); // Assuming status is in column 5\r\n                } else {\r\n                    this.dataTable.column(5).search('').draw();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reload table data\r\n     */\r\n    public reload(): void {\r\n        if (this.dataTable) {\r\n            this.dataTable.ajax.reload();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear all filters\r\n     */\r\n    public clearFilters(): void {\r\n        if (this.dataTable) {\r\n            this.dataTable.search('').columns().search('').draw();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Export table data\r\n     */\r\n    public exportData(format: 'csv' | 'excel' | 'pdf'): void {\r\n        // DataTables buttons extension will handle this\r\n        console.log(`Exporting data as ${format}`);\r\n    }\r\n}\r\n\r\n// Auto-initialize on page load\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const table = document.querySelector('table.datatable-export') as HTMLTableElement;\r\n    if (table) {\r\n        const manager = new ChartGalleryManager(table);\r\n        (window as any).chartGalleryManager = manager;\r\n    }\r\n});\r\n"],"names":["ChartGalleryManager","constructor","tableElement","dataTable","this","initializeDataTable","$","DataTable","responsive","pageLength","order","columnDefs","targets","orderable","type","language","search","searchPlaceholder","lengthMenu","info","infoEmpty","infoFiltered","dom","stateSave","stateDuration","attachCustomFilters","tagFilter","document","getElementById","addEventListener","tag","value","column","draw","statusFilter","status","reload","ajax","clearFilters","columns","exportData","format","console","log","table","querySelector","manager","window","chartGalleryManager"],"ignoreList":[],"sourceRoot":""}